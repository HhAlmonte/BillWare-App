@inject IJWTAuthenticationStateProvider _authService;
@inject IUserService _userService;
@inject DialogService DialogService

<RadzenTemplateForm TItem="RegistrationModel"
                    Data="Registration"
                    Submit="OnSubmit">
    <RadzenRow Gap="1rem">
        <RadzenColumn Size="12"
                      SizeSM="6">
               <RadzenFormField Text="Nombre completo">
                   <RadzenTextBox @bind-Value="Registration.FirstName" 
                                  class="text-box"  
                                  Name="Name"/>
                   <RadzenRequiredValidator Component="Name" 
                                            Text="Introducir nombre" 
                                            Popup="true" 
                                            Style="position: absolute" />
               </RadzenFormField>

               <RadzenFormField Text="Apellidos" class="mt-3">
                   <RadzenTextBox @bind-Value="Registration.LastName" 
                                  class="text-box"  
                                  Name="LastName"/>
                   <RadzenRequiredValidator Component="LastName" 
                                            Text="Introducir apellido" 
                                            Popup="true" 
                                            Style="position: absolute" />
               </RadzenFormField>

               <RadzenFormField Text="Nombre de usuario" class="mt-3">
                   <RadzenTextBox @bind-Value="Registration.UserName" 
                                  class="text-box"  
                                  Name="UserName"/>
                    <RadzenRequiredValidator Component="UserName" 
                                              Text="Introducir nombre de usuario" 
                                              Popup="true" 
                                              Style="position: absolute" />
               </RadzenFormField>

               <RadzenFormField Text="Correo electrónico" class="mt-3">
                    <RadzenTextBox @bind-Value="Registration.Email" 
                                    class="text-box"  
                                    Name="Email"/>
                    <RadzenRequiredValidator Component="Email" 
                                             Text="Introducir correo electrónico" 
                                             Popup="true" 
                                             Style="position: absolute" />
                   <RadzenEmailValidator Component="Email"
                                           Text="Introducir un correo electrónico válido"
                                           Popup="true"
                                           Style="position: absolute" />
               </RadzenFormField>

            @if (ShowPasswordInput)
            {
                <RadzenFormField Text="Contraseña" class="mt-3">
                    <RadzenTextBox Name="Password" 
                                   @bind-Value="@Registration.Password" 
                                   class="text-box" />
                    <RadzenRequiredValidator Component="Password" 
                                             Text="Introducir contraseña" 
                                             Popup="true" 
                                             Style="position: absolute" />
                </RadzenFormField>
            }

            <RadzenFormField Text="Número de identidad" class="mt-3">
                <RadzenTextBox @bind-Value="Registration.NumberId" 
                               class="text-box"  
                               Name="NumberId"/>

                <RadzenRequiredValidator Component="NumberId" 
                                         Text="Introducir número de identidad" 
                                         Popup="true" 
                                         Style="position: absolute" />
            </RadzenFormField>

            <RadzenFormField Text="Dirección de residencia" class="mt-3">
                <RadzenTextBox Name="Address" 
                               @bind-Value="@Registration.Address" 
                               class="text-box" />
                <RadzenRequiredValidator Component="Address" 
                                         Text="Introducir dirección" 
                                         Popup="true" 
                                         Style="position: absolute" />
            </RadzenFormField>

            <RadzenFormField Text="Rol" class="mt-3">
                <RadzenDropDown Data="Roles"
                                TValue="string"
                                TextProperty="RoleValue"
                                ValueProperty="RoleValue"
                                Name="Rol"
                                @bind-Value="Registration.Role"
                                class="text-box" />
                <RadzenRequiredValidator Component="Rol" 
                                         Text="Seleccionar un rol" 
                                         Popup="false" 
                                         Style="position: absolute" />
            </RadzenFormField>

            <RadzenButton Text="Aceptar" 
                          class="mt-3"
                          ButtonType="ButtonType.Submit" 
                          Style="background-color:#003053; color: #FFF" />
        </RadzenColumn>
    </RadzenRow>
</RadzenTemplateForm>

<style>
    .text-box {
        width: 320px;
    }
</style>

